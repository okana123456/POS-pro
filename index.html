<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DukaPOS Pro</title>
    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <style>
        /* Add desired styling here */
    </style>
</head>
<body>
    <h1>Welcome to DukaPOS Pro</h1>

    <!-- Admin user creation form (Admin only) -->
    <div id="admin-creation">
        <h2>Create Admin User</h2>
        <input type="email" id="admin-email" placeholder="Admin Email" required>
        <button id="create-admin">Create Admin</button>
    </div>

    <!-- Improved M-Pesa Payment section -->
    <div id="payment-section">
        <h2>M-Pesa Payment</h2>
        <input type="text" id="mpesa-phone" placeholder="Enter Kenyan Phone Number" required>
        <button id="make-payment">Pay</button>
    </div>

    <!-- Inventory Management section -->
    <div id="inventory-section">
        <h2>Inventory Management</h2>
        <input type="text" id="product-sku" placeholder="Product SKU (Leave blank to auto-generate)">
        <button id="add-product">Add Product</button>
    </div>

    <!-- Client Onboarding section -->
    <div id="onboarding-section">
        <h2>Client Onboarding</h2>
        <button id="bulk-add">Bulk Add Products</button>
    </div>

    <script>
        // Full setup instructions here...

        // Function to create admin user
        document.getElementById('create-admin').addEventListener('click', function() {
            const email = document.getElementById('admin-email').value;
            // EmailJS integration for sending verification email
            emailjs.send('YOUR_SERVICE_ID', 'YOUR_TEMPLATE_ID', { to_email: email })
            .then(function(response) {
                console.log('Verification Email Sent', response.status);
            }, function(error) {
                console.error('Failed to send email:', error);
            });
        });

        // Function to validate phone number for M-Pesa
        document.getElementById('make-payment').addEventListener('click', function() {
            const phone = document.getElementById('mpesa-phone').value;
            const phoneRegex = /^[0]{1}[1-9]{1}[0-9]{8}$/; // Kenyan phone number validation
            if (phoneRegex.test(phone)) {
                // Proceed with payment flow
                console.log('Payment Successful for:', phone);
            } else {
                alert('Invalid Kenyan phone number.');
            }
        });

        // Function to handle inventory addition
        document.getElementById('add-product').addEventListener('click', function() {
            let sku = document.getElementById('product-sku').value;
            if (!sku) {
                sku = 'SKU-' + Math.floor(Math.random() * 10000);
            }
            // Add product to inventory (localStorage) logic here...
            console.log('Product added with SKU:', sku);
        });

        // Function to handle bulk onboarding
        document.getElementById('bulk-add').addEventListener('click', function() {
            // Logic for client onboarding and bulk product addition here...
            console.log('Bulk client onboarding initiated.');
        });
    </script>
</body>
</html>